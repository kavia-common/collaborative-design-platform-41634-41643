{"is_source_file": true, "format": "JavaScript", "description": "This file defines a React context-based state management system for a Figma-like design tool, including layer management, tool selection, and undo/redo functionality.", "external_files": ["react"], "external_methods": ["createContext", "useContext", "useReducer", "useMemo", "useEffect", "useRef"], "published": ["DesignProvider", "useDesignState", "useDesignActions", "Tool"], "classes": [], "methods": [{"name": "makeId()", "description": "Generates a random string ID for new layers.", "scope": "", "scopeKind": ""}, {"name": "pushHistory(state)", "description": "Creates a new history entry for undo/redo functionality, preserving current layers and selected ID.", "scope": "", "scopeKind": ""}, {"name": "reducer(state, action)", "description": "Handles state transitions based on dispatched actions such as adding, selecting, moving, updating, renaming, deleting layers, and undo/redo.", "scope": "", "scopeKind": ""}, {"name": "DesignProvider({ children })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "useDesignActions()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "useDesignState()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["React.createContext", "React.useContext", "React.useReducer", "React.useMemo", "React.useEffect", "React.useRef", "WebSocket"], "search-terms": ["DesignContext", "React context for design state", "Layer management", "undo redo React", "collaborative design React"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "DesignDispatchContext", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^const DesignDispatchContext = createContext(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DesignProvider", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^export function DesignProvider({ children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children })"}, {"_type": "tag", "name": "DesignStateContext", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^const DesignStateContext = createContext(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ELLIPSE", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  ELLIPSE: \"ellipse\",$/", "language": "JavaScript", "kind": "property", "scope": "Tool", "scopeKind": "class"}, {"_type": "tag", "name": "RECT", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  RECT: \"rect\",$/", "language": "JavaScript", "kind": "property", "scope": "Tool", "scopeKind": "class"}, {"_type": "tag", "name": "SELECT", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  SELECT: \"select\",$/", "language": "JavaScript", "kind": "property", "scope": "Tool", "scopeKind": "class"}, {"_type": "tag", "name": "TEXT", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  TEXT: \"text\",$/", "language": "JavaScript", "kind": "property", "scope": "Tool", "scopeKind": "class"}, {"_type": "tag", "name": "Tool", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^export const Tool = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "docName", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  docName: \"Untitled\",$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "future", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  future: [],$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "futureSnap", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^      const futureSnap = { layers: state.layers, selectedId: state.selectedId };$/", "language": "JavaScript", "kind": "class", "scope": "reducer", "scopeKind": "class"}, {"_type": "tag", "name": "history", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  history: [],$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "historySnap", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^      const historySnap = { layers: state.layers, selectedId: state.selectedId };$/", "language": "JavaScript", "kind": "class", "scope": "reducer", "scopeKind": "class"}, {"_type": "tag", "name": "initialState", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^const initialState = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "layers", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^      const futureSnap = { layers: state.layers, selectedId: state.selectedId };$/", "language": "JavaScript", "kind": "property", "scope": "reducer.futureSnap", "scopeKind": "class"}, {"_type": "tag", "name": "layers", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^      const historySnap = { layers: state.layers, selectedId: state.selectedId };$/", "language": "JavaScript", "kind": "property", "scope": "reducer.historySnap", "scopeKind": "class"}, {"_type": "tag", "name": "layers", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  const snapshot = { layers: state.layers, selectedId: state.selectedId };$/", "language": "JavaScript", "kind": "property", "scope": "pushHistory.snapshot", "scopeKind": "class"}, {"_type": "tag", "name": "layers", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  layers: [],$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "makeId", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^function makeId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "pushHistory", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^function pushHistory(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "reducer", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^function reducer(state, action) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, action)"}, {"_type": "tag", "name": "selectedId", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^      const futureSnap = { layers: state.layers, selectedId: state.selectedId };$/", "language": "JavaScript", "kind": "property", "scope": "reducer.futureSnap", "scopeKind": "class"}, {"_type": "tag", "name": "selectedId", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^      const historySnap = { layers: state.layers, selectedId: state.selectedId };$/", "language": "JavaScript", "kind": "property", "scope": "reducer.historySnap", "scopeKind": "class"}, {"_type": "tag", "name": "selectedId", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  const snapshot = { layers: state.layers, selectedId: state.selectedId };$/", "language": "JavaScript", "kind": "property", "scope": "pushHistory.snapshot", "scopeKind": "class"}, {"_type": "tag", "name": "selectedId", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  selectedId: null,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "snapshot", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  const snapshot = { layers: state.layers, selectedId: state.selectedId };$/", "language": "JavaScript", "kind": "class", "scope": "pushHistory", "scopeKind": "class"}, {"_type": "tag", "name": "tool", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^  tool: Tool.SELECT,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "useDesignActions", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^export function useDesignActions() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "useDesignState", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^export function useDesignState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/collaborative-design-platform-41634-41643/figma_frontend/src/state/DesignContext.js", "pattern": "/^    <DesignStateContext.Provider value={value}>$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}], "hash": "5311e1991060708124d17150ba8c8ba8", "format-version": 4, "code-base-name": "figma_frontend", "filename": "figma_frontend/src/state/DesignContext.js", "fields": [{"name": "ELLIPSE: \"ellipse\",", "scope": "Tool", "scopeKind": "class", "description": "unavailable"}, {"name": "RECT: \"rect\",", "scope": "Tool", "scopeKind": "class", "description": "unavailable"}, {"name": "SELECT: \"select\",", "scope": "Tool", "scopeKind": "class", "description": "unavailable"}, {"name": "TEXT: \"text\",", "scope": "Tool", "scopeKind": "class", "description": "unavailable"}, {"name": "docName: \"Untitled\",", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "future: [],", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "history: [],", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "const futureSnap = { layers: state.layers, selectedId: state.selectedId };", "scope": "reducer.futureSnap", "scopeKind": "class", "description": "unavailable"}, {"name": "const historySnap = { layers: state.layers, selectedId: state.selectedId };", "scope": "reducer.historySnap", "scopeKind": "class", "description": "unavailable"}, {"name": "const snapshot = { layers: state.layers, selectedId: state.selectedId };", "scope": "pushHistory.snapshot", "scopeKind": "class", "description": "unavailable"}, {"name": "layers: [],", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "selectedId: null,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "tool: Tool.SELECT,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "<DesignStateContext.Provider value={value}>", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"27": ""}]}